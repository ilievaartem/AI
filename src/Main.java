public class Main {
    public static void main(String[] args) {
        final int NUM_LETTERS = 33;
        final int MATRIX_SIZE = 5;
        final int INPUT_SIZE = MATRIX_SIZE * MATRIX_SIZE;
        final double LEARNING_RATE = 0.1;

        int[][] inputsList = {
                // А
                {
                        0, 1, 1, 1, 0,
                        1, 0, 0, 0, 1,
                        1, 1, 1, 1, 1,
                        1, 0, 0, 0, 1,
                        1, 0, 0, 0, 1
                },
                // Б
                {
                        1, 1, 1, 1, 0,
                        1, 0, 0, 0, 1,
                        1, 1, 1, 1, 0,
                        1, 0, 0, 0, 1,
                        1, 1, 1, 1, 0
                },
                // В
                {
                        1, 1, 1, 1, 0,
                        1, 0, 0, 0, 1,
                        1, 1, 1, 1, 1,
                        1, 0, 0, 0, 1,
                        1, 1, 1, 1, 0
                },
                // Г
                {
                        0, 1, 0, 0, 0,
                        1, 1, 1, 1, 1,
                        1, 0, 0, 0, 1,
                        1, 0, 0, 0, 1,
                        1, 0, 0, 0, 1
                },
                // Ґ
                {
                        1, 1, 1, 1, 0,
                        0, 0, 0, 0, 1,
                        1, 1, 1, 1, 0,
                        1, 0, 0, 0, 1,
                        1, 1, 1, 1, 0
                },
                // Д
                {
                        1, 1, 1, 1, 0,
                        1, 0, 0, 0, 1,
                        1, 0, 0, 0, 1,
                        1, 0, 0, 0, 1,
                        1, 1, 1, 1, 0
                },
                // Е
                {
                        1, 1, 1, 1, 1,
                        1, 0, 0, 0, 0,
                        1, 1, 1, 1, 1,
                        1, 0, 0, 0, 0,
                        1, 1, 1, 1, 1
                },
                // Є
                {
                        1, 1, 1, 1, 1,
                        1, 0, 0, 0, 1,
                        1, 1, 1, 1, 1,
                        1, 0, 0, 0, 1,
                        1, 1, 1, 1, 1
                },
                // Ж
                {
                        1, 0, 1, 0, 1,
                        1, 1, 1, 1, 1,
                        1, 0, 1, 0, 1,
                        1, 1, 1, 1, 1,
                        1, 0, 1, 0, 1
                },
                // З
                {
                        1, 1, 1, 1, 1,
                        0, 0, 0, 0, 1,
                        0, 1, 1, 1, 0,
                        1, 1, 1, 1, 1,
                        1, 0, 0, 0, 1
                },
                // И
                {
                        1, 0, 1, 0, 1,
                        1, 1, 1, 1, 1,
                        1, 0, 1, 0, 1,
                        1, 0, 1, 0, 1,
                        1, 0, 1, 0, 1
                },
                // І
                {
                        0, 1, 0, 1, 0,
                        1, 1, 1, 1, 1,
                        1, 0, 1, 0, 1,
                        1, 1, 1, 1, 1,
                        0, 1, 0, 1, 0
                },
                // Ї
                {
                        1, 1, 1, 1, 1,
                        1, 0, 0, 0, 1,
                        1, 1, 1, 1, 1,
                        1, 1, 1, 1, 1,
                        1, 1, 1, 1, 1
                },
                // Й
                {
                        0, 1, 0, 1, 0,
                        1, 1, 1, 1, 1,
                        0, 1, 0, 1, 0,
                        0, 1, 0, 1, 0,
                        0, 1, 0, 1, 0
                },
                // К
                {
                        1, 0, 1, 0, 1,
                        1, 1, 0, 1, 0,
                        1, 1, 0, 1, 0,
                        1, 0, 1, 1, 0,
                        1, 0, 1, 0, 1
                },
                // Л
                {
                        1, 0, 0, 0, 0,
                        1, 1, 0, 0, 0,
                        1, 0, 1, 0, 0,
                        1, 1, 1, 0, 0,
                        1, 0, 0, 0, 0
                },
                // М
                {
                        1, 1, 1, 1, 1,
                        1, 0, 1, 0, 1,
                        1, 0, 1, 0, 1,
                        1, 0, 1, 0, 1,
                        1, 1, 1, 1, 1
                },
                // Н
                {
                        1, 0, 1, 0, 1,
                        1, 0, 1, 0, 1,
                        1, 0, 0, 0, 1,
                        1, 0, 1, 0, 1,
                        1, 0, 1, 0, 1
                },
                // О
                {
                        1, 1, 1, 1, 1,
                        1, 0, 0, 0, 1,
                        1, 0, 0, 0, 1,
                        1, 0, 0, 0, 1,
                        1, 1, 1, 1, 1
                },
                // П
                {
                        1, 1, 1, 1, 1,
                        1, 0, 0, 0, 1,
                        1, 1, 1, 1, 1,
                        1, 0, 0, 0, 0,
                        1, 0, 0, 0, 0
                },
                // Р
                {
                        1, 1, 1, 1, 1,
                        1, 0, 0, 0, 1,
                        1, 1, 1, 1, 1,
                        1, 0, 0, 0, 1,
                        1, 0, 0, 0, 1
                },
                // С
                {
                        1, 1, 1, 1, 1,
                        1, 0, 0, 0, 0,
                        1, 0, 0, 0, 0,
                        1, 0, 0, 0, 0,
                        1, 1, 1, 1, 1
                },
                // Т
                {
                        1, 1, 1, 1, 1,
                        0, 1, 0, 1, 0,
                        0, 1, 0, 1, 0,
                        0, 1, 0, 1, 0,
                        0, 1, 0, 1, 0
                },
                // У
                {
                        1, 0, 1, 0, 1,           
                        1, 0, 1, 0, 1,           
                        1, 0, 0, 0, 1,           
                        1, 1, 1, 0, 1,           
                        1, 0, 0, 0, 1            
                },
                // Ф
                {
                        1, 1, 1, 1, 1,
                        1, 0, 1, 0, 1,
                        1, 1, 1, 1, 1,
                        0, 0, 1, 0, 0,
                        0, 0, 1, 0, 0,
                },
                // Х
                {
                        1, 0, 1, 0, 1,
                        1, 1, 1, 1, 1,
                        1, 1, 1, 1, 1,
                        1, 1, 1, 1, 1,
                        1, 0, 1, 0, 1
                },
                // Ц
                {
                        1, 1, 1, 1, 1,
                        0, 1, 1, 1, 1,
                        1, 1, 1, 1, 0,
                        1, 1, 1, 1, 1,
                        1, 1, 1, 1, 1
                },
                // Ч
                {
                        1, 0, 1, 0, 1,              
                        1, 0, 1, 0, 1,              
                        1, 1, 0, 0, 1,              
                        1, 1, 1, 0, 1,              
                        1, 1, 1, 0, 1               
                },
                // Ш
                {
                        1, 0, 1, 0, 1,
                        1, 0, 1, 0, 1,
                        1, 0, 1, 0, 1,
                        1, 0, 1, 0, 1,
                        1, 1, 1, 1, 1
                },
                // Щ
                {
                        1, 0, 1, 0, 1,
                        1, 0, 1, 0, 1,
                        1, 1, 1, 1, 1,
                        1, 1, 1, 1, 1,
                        1, 1, 1, 1, 1
                },
                // Ь
                {
                        1, 0, 0, 0, 0,
                        1, 1, 0, 0, 0,
                        1, 0, 1, 0, 0,
                        1, 0, 1, 0, 0,
                        1, 0, 1, 0, 0
                },
                // Ю
                {
                        1, 1, 1, 1, 1,
                        1, 0, 1, 0, 1,
                        1, 1, 1, 1, 1,
                        1, 0, 1, 0, 1,
                        1, 1, 1, 1, 1
                },
                // Я
                {
                        1, 1, 1, 1, 1,
                        1, 0, 1, 0, 1,
                        1, 1, 0, 1, 1,
                        1, 1, 1, 1, 1,
                        1, 1, 1, 1, 1
                }
        };

        if (inputsList.length != NUM_LETTERS) {
            System.out.println("Кількість вхідних матриць не відповідає кількості букв!");
            return;
        }

        int[][] desiredOutputs = new int[NUM_LETTERS][NUM_LETTERS];
        for (int i = 0; i < NUM_LETTERS; i++) {
            desiredOutputs[i][i] = 1;
        }

        Perceptron perceptron = new Perceptron(INPUT_SIZE, NUM_LETTERS, LEARNING_RATE);

        for (int i = 0; i < NUM_LETTERS; i++) {
            perceptron.trainNeuron(inputsList, i, desiredOutputs[i]);
        }

        System.out.println("Тестування:");
        String[] letters = {
                "А", "Б", "В", "Г", "Ґ", "Д", "Е", "Є", "Ж", "З",
                "И", "І", "Ї", "Й", "К", "Л", "М", "Н", "О", "П",
                "Р", "С", "Т", "У", "Ф", "Х", "Ц", "Ч", "Ш", "Щ",
                "Ь", "Ю", "Я"
        };

        for (int i = 0; i < inputsList.length; i++) {
            int[] prediction = perceptron.predict(inputsList[i]);
            int predictedLetterIndex = -1;
            for (int j = 0; j < prediction.length; j++) {
                if (prediction[j] == 1) {
                    predictedLetterIndex = j;
                    break;
                }
            }
            if (predictedLetterIndex != -1) {
                System.out.println("Буква: " + letters[i] + " -> Виявлена буква: " + letters[predictedLetterIndex] + " (Очікувана: " + letters[i] + ")");
            } else {
                System.out.println("Буква: " + letters[i] + " -> Виявлена буква: Невідома (Очікувана: " + letters[i] + ")");
            }
        }
    }
}
